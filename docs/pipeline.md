# Documentation on pipeline GUI module
This document describes the GUI for executing pipeline and modules.

## Overview
- The [Ameriflux Pipeline](https://github.com/ncsa/ameriflux-pipeline/tree/develop/ameriflux_pipeline) is an automated process of handling flux data for AmeriFlux submission and consists of several modules.
- The [pipeline](https://github.com/ncsa/ameriflux-pipeline/blob/develop/ameriflux_pipeline/pipeline.py) module enables users to execute each of these modules.
- The user settings for each module run are read from .env file created by executing [enveditor](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/enveditor.md).

## Instructions to run
- The command ```python pipeline.py``` launches a GUI for the users to select which modules to run.
- The GUI application is implemented using [tkinter](https://docs.python.org/3/library/tk.html) python library.
- Using the GUI, the user is able to execute specific modules with a click of a button

## Process
### 1
- Run Pre-Pyfluxpro process
  - The "Run" button executes the [pre-pyfluxpro](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/prepyfluxpro.md) module and all its sub-modules.
  - By executing this section, all the processing till the generation of PyFluxPro L1 and L2 control files will be done.
  - Typically, this is executed right after [metprocessor](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/metprocessor.md) and [enveditor](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/enveditor.md).
### 2
- Run Post-PyFluxPro process
  - The "Run" button executes the [post-pyfluxpro](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/postpyfluxpro.md) module.
  - This module creates Ameriflux submission-ready csv file with filename 'US-Ui<ameriflux_site_name>HH<start_time>_<end_time>
  - This is typically the last step in the pipeline, executed after running the PyFluxPro software and after the technician is satisfied with the generated plots.
### 3
- Run EddyPro data preparation
  - The "Run" button executes the [mastermetprocessor](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/master_met/mastermetprocessor.md) and the [eddyproformat](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/eddypro/eddyproformat.md) modules within the pre-pyfluxpro module.
  - By executing this section, all inputs required for the EddyPro software run is generated.
### 4
- Run EddyPro application
  - The "Run" button executes the [runeddypro](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/eddypro/runeddypro.md) module.
  - This will run the EddyPro software in a headless manner.
  - The inputs required will be taken from the output generated by step#3.
### 5
- Run PyFluxPro data preparation
  - The "Run" button executes the rest of the modules in pre-pyfluxpro. The modules executed are :
    - [pyfluxproformat](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/pyfluxpro/pyfluxproformat.md) - creates the Pyfluxpro input excel sheet
    - [amerifluxformat](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/pyfluxpro/amerifluxformat.md) - creates Pyfluxpro input excel sheet for Ameriflux-processing
    - [l1format](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/pyfluxpro/l1format.md) - creates Pyfluxpro L1 control file for Ameriflux-processing
    - [l2format](https://github.com/ncsa/ameriflux-pipeline/blob/develop/docs/pyfluxpro/l2format.md) - creates Pyfluxpro L2 control file for Ameriflux-processing
  - Executing this section generates all inputs required to run PyFluxPro software
